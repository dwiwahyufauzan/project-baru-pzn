import{e as v,h as d,j as o,k as s}from"./DWtiGtaS.js";import{l as c}from"./BTbV8QXQ.js";function _(e,u,i){if(e.multiple){if(u==null)return;if(!d(u))return o();for(var r of e.options)r.selected=u.includes(t(r));return}for(r of e.options){var a=t(r);if(s(a,u)){r.selected=!0;return}}(!i||u!==void 0)&&(e.selectedIndex=-1)}function b(e,u){v(()=>{var i=new MutationObserver(()=>{var r=e.__value;_(e,r)});return i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function h(e,u,i=u){var r=!0;c(e,"change",a=>{var n=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(n),t);else{var f=e.querySelector(n)??e.querySelector("option:not([disabled])");l=f&&t(f)}i(l)}),v(()=>{var a=u();if(_(e,a,r),r&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=t(n),i(a))}e.__value=a,r=!1}),b(e)}function t(e){return"__value"in e?e.__value:e.value}export{h as b};
